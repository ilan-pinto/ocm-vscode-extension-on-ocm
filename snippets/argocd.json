{
	"argocd-application-set": {
		"scope": "yaml",
		"prefix": "OCM Argocd ApplicationSet",
		"description": "apply the same set of manifests across multiple namespaces or clusters with different configurations",
		"body": [
			"---",
			"kind: ConfigMap",
			"apiVersion: v1",
			"metadata:",
			"  name: ocm-placement-generator",
			"  namespace: argocd",
			"data:",
			"  apiVersion: cluster.open-cluster-management.io/v1beta1",
			"  kind: placementdecisions",
			"  statusListKey: decisions",
			"  matchKey: clusterName",
			"---",
			"kind: Role",
			"apiVersion: rbac.authorization.k8s.io/v1",
			"metadata:",
			"  name: ocm-placement-consumer",
			"  namespace: argocd",
			"rules:",
			"- apiGroups: ['cluster.open-cluster-management.io']",
			"  resources: ['placementdecisions']",
			"  verbs: ['get', 'list']",
			"---",
			"kind: RoleBinding",
			"apiVersion: rbac.authorization.k8s.io/v1",
			"metadata:",
			"  name: ocm-placement-consumer:argocd",
			"  namespace: ${1:<argocd-namespace>}",
			"roleRef:",
			"  apiGroup: rbac.authorization.k8s.io",
			"  kind: Role",
			"  name: ocm-placement-consumer",
			"subjects:",
			"- kind: ServiceAccount",
			"  namespace: ${1:<argocd-namespace>}",
			"  name: argocd-applicationset-controller",
			"---",
			"apiVersion: cluster.open-cluster-management.io/v1beta1",
			"kind: Placement",
			"metadata:",
			"  name: ${2:<placement-name>}",
			"  namespace: ${1:<argocd-namespace>}",
			"spec:",
			"  numberOfClusters: ${3:<number-of-clusters>}",
			"---",
			"apiVersion: argoproj.io/v1alpha1",
			"kind: ApplicationSet",
			"metadata:",
			"  - clusterDecisionResource:",
			"  namespace: ${4:<application-set-namespace>}",
			"spec:",
			"  generators:",
			"  pathname: ${5:<channel-path>} # i.e, https://github.com/<your-user>/<your-repo>",
			"  secretRef: # secret ref is optional. if no credentials are needed, delete this section",
			"    name: ${6:<secret-name>}"
		]
	}
}
